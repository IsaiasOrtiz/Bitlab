<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="template.xhtml">

        <ui:define name="title">
            <h:outputText value="Cursos"></h:outputText>
        </ui:define>

        <ui:define name="body">

            <h:panelGroup id="cursos">
                <h:form id="formCurso">
                    <p:panel header="Listado de Cursos" rendered="#{estudianteController.flagRender eq 'cursos'}">
                        <p:growl id="message" showDetail="true" />
                        <a href="nuevoCurso.xhtml" class="btn btn-primary">NUEVO CURSO</a>
                        <br></br>
                        <br></br>
                        <p:dataGrid var="curso" value="#{cursoController.items}" 
                                    rows="9" paginator="true" 
                                    rendered="#{estudianteController.flagRender eq 'cursos'}">

                            <p:dataViewGridItem>
                                <div class="row clearfix">
                                    <div class="col-sm-12 col-md-12 mb-30">
                                        <div class="card card-box">
                                            <div class="card-header">
                                                <h3>
                                                    <h:outputText value="#{curso.csNombre}"/></h3>
                                            </div>
                                            <div class="card-body text-center" >
                                                <h:panelGrid columns="1" style="width:100%">

                                                    <h:outputText value="Inicio: #{curso.csInicio}" >
                                                        <f:convertDateTime pattern="MM/dd/yyyy" />
                                                    </h:outputText>
                                                    <h:outputText value="Descripcion: #{curso.csDescripcion}"/>
                                                    <h:outputText value="Capacidad: #{curso.csCantidadBecados}"/>
                                                    <h:outputText value="Hora Inicio: #{curso.hrId.hrHoraInicio}"/>
                                                    <h:outputText value="Hora finalizacion: #{curso.hrId.hrHoraFin}"/>
                                                    <h:outputText value="Dias: #{curso.hrId.hrDias}"/>
                                                    <h:outputLabel value="Estado: Activo" rendered="#{curso.csEstado == true}" /> 
                                                    <h:outputLabel value="Estado: Inactivo" rendered="#{curso.csEstado == false}" /> 
                                                    <h:outputLabel value="#{curso.csId}"/> 
                                                    <p:commandButton id="createButton" update=":cursos,:estudiantes, :proceso" 
                                                                     value="Ver Aspirantes" action="#{estudianteController.getEstudiantesPorCurso(curso.csId)}"/>
                                                    <p:commandButton id="cambiarEstadoButton" update=":cursos,:estudiantes, :proceso" 
                                                                     value="Cambiar Estado" action="#{cursoController.cambiarEstado(curso)}"/>
                                                </h:panelGrid>
                                                <br></br>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </p:dataViewGridItem>
                        </p:dataGrid>
                    </p:panel>
                </h:form>
            </h:panelGroup>


            <h:panelGroup id="estudiantes">
                <h:form id="estudiantePorCurso">
                    <p:commandButton id="createButton" update=":cursos, :estudiantes, :proceso" value="Regresar" rendered="#{estudianteController.flagRender eq 'estudiantes'}" class="mb-5">
                        <f:setPropertyActionListener   value="cursos" target="#{estudianteController.flagRender}"/>
                    </p:commandButton>
                    <p:panel header="Estudiantes en proceso para el curso de: #{csId}" 
                             rendered="#{estudianteController.flagRender eq 'estudiantes'}">
                        <p:dataTable id="datalist" value="#{estudianteController.estudiantesPorCurso}" var="item"
                                     paginator="true"
                                     rowKey="#{item.esId}"
                                     rows="10"
                                     rowsPerPageTemplate="10,20,30,40,50" rendered="#{estudianteController.flagRender eq 'estudiantes'}"
                                     >
                            <p:column colspan="1" style="text-align: center">
                                <f:facet name="header">
                                    <h:outputText value="Foto"/>
                                </f:facet>
                                <div class="user-info-dropdown">
                                    <span class="user-icon" style="overflow:hidden">
                                        <p:graphicImage value="#{estudianteController.imagen(item.esFoto)}" style="border-radius: 50px; width: 75%; height: 75%" stream="false"/>
                                    </span>
                                </div>
                            </p:column>
                            <p:column colspan="2">
                                <f:facet name="header">
                                    <h:outputText value="Nombre"/>
                                </f:facet>
                                <h:outputText value="#{item.esNombre}"/>
                            </p:column>
                            <p:column colspan="2">
                                <f:facet name="header">
                                    <h:outputText value="Apellido"/>
                                </f:facet>
                                <h:outputText value="#{item.esApellido}"/>
                            </p:column>

                            <p:column colspan="2">
                                <f:facet name="header">
                                    <h:outputText value="Teléfono"/>
                                </f:facet>
                                <h:outputText value="#{item.esTelefono}"/>
                            </p:column>
                            <p:column colspan="2">
                                <f:facet name="header">
                                    <h:outputText value="Email"/>
                                </f:facet>
                                <h:outputText value="#{item.esCorreo}"/>
                            </p:column>
                            <p:column colspan="1">
                                <f:facet name="header">
                                    <h:outputText value="Laborando"/>
                                </f:facet>
                                <h:outputText value="SI" rendered="#{item.esLaborando == true}" /> 
                                <h:outputText value="NO" rendered="#{item.esLaborando == false}" /> 
                            </p:column>
                            <p:column colspan="1">
                                <f:facet name="header">
                                    <h:outputText value="Estado de Proceso"/>
                                </f:facet>
                                <h:outputText value="#{item.esnId.esnNombre}"/>
                            </p:column>
                            <p:column colspan="2" style="text-align: center">
                                <f:facet name="header">
                                    <h:outputText value="Acción"/>
                                </f:facet>
                                <p:commandButton id="createButton" update=":cursos,:estudiantes, :proceso"  value="Ver Proceso"
                                                 actionListener="#{estudianteController.detallePreseleccion()}"/>
                            </p:column>
                        </p:dataTable>
                    </p:panel>
                </h:form>
            </h:panelGroup>



            <h:panelGroup id="proceso">
                <h:form><p:commandButton id="createButton" update=":cursos, :estudiantes, :proceso" value="Regresar" rendered="#{estudianteController.flagRender eq 'proceso'}" class="mb-5">
                        <f:setPropertyActionListener value="estudiantes" target="#{estudianteController.flagRender}"/>
                    </p:commandButton>
                </h:form>
                <p:panel class="tab-wizard wizard-circle wizard" header="Proceso de Seleccion" 
                         rendered="#{estudianteController.flagRender eq 'proceso'}">


                    <div class="pd-20 card-box mb-30" rendered="#{estudianteController.flagRender eq 'proceso'}">
                        <div class="clearfix">
                            <h4 class="text-blue h4">Proceso de Selección</h4>
                            <p class="mb-30"></p>
                        </div>

                        <div class="wizard-content">

                            <h:form  class="tab-wizard wizard-circle wizard" id="PreseleccionCreateForm">
                                <h5>Primera fase</h5>
                                <section>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Nombre de Fase:</label>
                                                <p:inputText class="form-control" id="prNombre" value="#{preseleccionController.selected.prNombre}" title="#{bundle.CreatePreseleccionTitle_prNombre}" required="true" requiredMessage="#{bundle.CreatePreseleccionRequiredMessage_prNombre}"/>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label >Nota: </label>
                                                <h:panelGrid columns="1" style="margin-bottom: 10px">
                                                    <p:inputText class="form-control" id="prNota" value="#{preseleccionController.selected.prNota}" title="#{bundle.CreatePreseleccionTitle_prNota}" required="true" requiredMessage="#{bundle.CreatePreseleccionRequiredMessage_prNota}" />
                                                    <p:slider for="prNota" minValue="0.1" maxValue="10.0" step="0.1" />
                                                </h:panelGrid>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            <div class="form-group">
                                                <label>Observación:</label>
                                                <p:inputTextarea id="prComentario" class="form-control" value="#{preseleccionController.selected.prComentario}" title="#{bundle.CreatePreseleccionTitle_prComentario}" required="true" requiredMessage="#{bundle.CreatePreseleccionRequiredMessage_prComentario}" 
                                                                 rows="5" cols="30" counter="display" maxlength="200" counterTemplate="{0} caracteres faltantes." autoResize="false" />
                                                <h:outputText id="display" />
                                            </div>
                                        </div>
                                    </div>
                                </section>
                                <!-- Step 2 -->
                                <h5>Segunda Fase</h5>
                                <section>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Nombre de Fase:</label>
                                                <p:inputText class="form-control" id="prNombre2" value="#{preseleccionController.selected.prNombre}" title="#{bundle.CreatePreseleccionTitle_prNombre}" required="true" requiredMessage="#{bundle.CreatePreseleccionRequiredMessage_prNombre}"/>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label >Nota: </label>
                                                <h:panelGrid columns="1" style="margin-bottom: 10px">
                                                    <p:inputText class="form-control" id="prNota2" value="#{preseleccionController.selected.prNota}" title="#{bundle.CreatePreseleccionTitle_prNota}" required="true" requiredMessage="#{bundle.CreatePreseleccionRequiredMessage_prNota}" />
                                                    <p:slider for="prNota2" minValue="0.1" maxValue="10.0" step="0.1" />
                                                </h:panelGrid>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            <div class="form-group">
                                                <label>Observación:</label>
                                                <p:inputTextarea id="prComentario2" class="form-control" value="#{preseleccionController.selected.prComentario}" title="#{bundle.CreatePreseleccionTitle_prComentario}" required="true" requiredMessage="#{bundle.CreatePreseleccionRequiredMessage_prComentario}" 
                                                                 rows="5" cols="30" counter="display2" maxlength="200" counterTemplate="{0} caracteres faltantes." autoResize="false" />
                                                <h:outputText id="display2" />
                                            </div>
                                        </div>
                                    </div>
                                </section>
                                <!-- Step 3 -->
                                <h5>Tercera Fase</h5>
                                <section>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Nombre de Fase:</label>
                                                <p:inputText class="form-control" id="prNombre3" value="#{preseleccionController.selected.prNombre}" title="#{bundle.CreatePreseleccionTitle_prNombre}" required="true" requiredMessage="#{bundle.CreatePreseleccionRequiredMessage_prNombre}"/>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label >Nota: </label>
                                                <h:panelGrid columns="1" style="margin-bottom: 10px">
                                                    <p:inputText class="form-control" id="prNota3" value="#{preseleccionController.selected.prNota}" title="#{bundle.CreatePreseleccionTitle_prNota}" required="true" requiredMessage="#{bundle.CreatePreseleccionRequiredMessage_prNota}" />
                                                    <p:slider for="prNota3" minValue="0.1" maxValue="10.0" step="0.1" />
                                                </h:panelGrid>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            <div class="form-group">
                                                <label>Observación:</label>
                                                <p:inputTextarea id="prComentario3" class="form-control" value="#{preseleccionController.selected.prComentario}" title="#{bundle.CreatePreseleccionTitle_prComentario}" required="true" requiredMessage="#{bundle.CreatePreseleccionRequiredMessage_prComentario}" 
                                                                 rows="5" cols="30" counter="display3" maxlength="200" counterTemplate="{0} caracteres faltantes." autoResize="false" />
                                                <h:outputText id="display3" />
                                            </div>
                                        </div>
                                    </div>
                                </section>
                                <!-- Step 4 -->
                                <h5>Cuarta Fase</h5>
                                <section>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label>Nombre de Fase:</label>
                                                <p:inputText class="form-control" id="prNombre4" value="#{preseleccionController.selected.prNombre}" title="#{bundle.CreatePreseleccionTitle_prNombre}" required="true" requiredMessage="#{bundle.CreatePreseleccionRequiredMessage_prNombre}"/>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label >Nota: </label>
                                                <h:panelGrid columns="1" style="margin-bottom: 10px">
                                                    <p:inputText class="form-control" id="prNota4" value="#{preseleccionController.selected.prNota}" title="#{bundle.CreatePreseleccionTitle_prNota}" required="true" requiredMessage="#{bundle.CreatePreseleccionRequiredMessage_prNota}" />
                                                    <p:slider for="prNota4" minValue="0.1" maxValue="10.0" step="0.1" />
                                                </h:panelGrid>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-8">
                                            <div class="form-group">
                                                <label>Observación:</label>
                                                <p:inputTextarea id="prComentario4" class="form-control" value="#{preseleccionController.selected.prComentario}" title="#{bundle.CreatePreseleccionTitle_prComentario}" required="true" requiredMessage="#{bundle.CreatePreseleccionRequiredMessage_prComentario}" 
                                                                 rows="5" cols="30" counter="display4" maxlength="200" counterTemplate="{0} caracteres faltantes." autoResize="false" />
                                                <h:outputText id="display4" />
                                            </div>
                                        </div>
                                    </div>
                                </section>
                            </h:form>
                        </div>
                    </div>


                </p:panel>
            </h:panelGroup>

<script src="vendors/scripts/script.min.js"></script>
	<script src="vendors/scripts/process.js"></script>
	<script src="vendors/scripts/layout-settings.js"></script>
	<script src="src/plugins/jquery-steps/jquery.steps.js"></script>
	<script src="vendors/scripts/steps-setting.js"></script>



        </ui:define>
    </ui:composition>

</html>